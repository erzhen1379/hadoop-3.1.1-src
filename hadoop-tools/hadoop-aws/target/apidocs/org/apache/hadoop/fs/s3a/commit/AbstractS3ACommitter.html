<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_291) on Sun Mar 24 16:04:26 CST 2024 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractS3ACommitter (Apache Hadoop Amazon Web Services support 3.1.1 API)</title>
<meta name="date" content="2024-03-24">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractS3ACommitter (Apache Hadoop Amazon Web Services support 3.1.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":6,"i8":10,"i9":10,"i10":10,"i11":10,"i12":6,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":6,"i19":10,"i20":10,"i21":6,"i22":10,"i23":10,"i24":10,"i25":10,"i26":6,"i27":10,"i28":10,"i29":10,"i30":6,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractS3ACommitter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitterFactory.html" title="class in org.apache.hadoop.fs.s3a.commit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html" target="_top">Frames</a></li>
<li><a href="AbstractS3ACommitter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.fs.s3a.commit</div>
<h2 title="Class AbstractS3ACommitter" class="title">Class AbstractS3ACommitter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.mapreduce.OutputCommitter</li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.mapreduce.lib.output.PathOutputCommitter</li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.fs.s3a.commit.AbstractS3ACommitter</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/magic/MagicS3GuardCommitter.html" title="class in org.apache.hadoop.fs.s3a.commit.magic">MagicS3GuardCommitter</a>, <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/staging/StagingCommitter.html" title="class in org.apache.hadoop.fs.s3a.commit.staging">StagingCommitter</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">AbstractS3ACommitter</span>
extends org.apache.hadoop.mapreduce.lib.output.PathOutputCommitter</pre>
<div class="block">Abstract base class for S3A committers; allows for any commonality
 between different architectures.

 Although the committer APIs allow for a committer to be created without
 an output path, this is not supported in this class or its subclasses:
 a destination must be supplied. It is left to the committer factory
 to handle the creation of a committer when the destination is unknown.

 Requiring an output directory simplifies coding and testing.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#AbstractS3ACommitter-org.apache.hadoop.fs.Path-org.apache.hadoop.mapreduce.TaskAttemptContext-">AbstractS3ACommitter</a></span>(org.apache.hadoop.fs.Path&nbsp;outputPath,
                    org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>
<div class="block">Create a committer.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#abortJob-org.apache.hadoop.mapreduce.JobContext-org.apache.hadoop.mapreduce.JobStatus.State-">abortJob</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
        org.apache.hadoop.mapreduce.JobStatus.State&nbsp;state)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#abortJobInternal-org.apache.hadoop.mapreduce.JobContext-boolean-">abortJobInternal</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                boolean&nbsp;suppressExceptions)</code>
<div class="block">The internal job abort operation; can be overridden in tests.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#abortPendingUploads-org.apache.hadoop.mapreduce.JobContext-java.util.List-boolean-">abortPendingUploads</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending,
                   boolean&nbsp;suppressExceptions)</code>
<div class="block">Abort all pending uploads in the list.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#abortPendingUploadsInCleanup-boolean-">abortPendingUploadsInCleanup</a></span>(boolean&nbsp;suppressExceptions)</code>
<div class="block">Abort all pending uploads to the destination directory during
 job cleanup operations.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#buildThreadPool-org.apache.hadoop.mapreduce.JobContext-">buildThreadPool</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context)</code>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutorService</code></a> for parallel tasks.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#cleanup-org.apache.hadoop.mapreduce.JobContext-boolean-">cleanup</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
       boolean&nbsp;suppressExceptions)</code>
<div class="block">Cleanup the job context, including aborting anything pending.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#cleanupJob-org.apache.hadoop.mapreduce.JobContext-">cleanupJob</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#cleanupStagingDirs--">cleanupStagingDirs</a></span>()</code>
<div class="block">Clean up any staging directories.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#commitJob-org.apache.hadoop.mapreduce.JobContext-">commitJob</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context)</code>
<div class="block">Commit work.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#commitJobInternal-org.apache.hadoop.mapreduce.JobContext-java.util.List-">commitJobInternal</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)</code>
<div class="block">Internal Job commit operation: where the S3 requests are made
 (potentially in parallel).</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#commitPendingUploads-org.apache.hadoop.mapreduce.JobContext-java.util.List-">commitPendingUploads</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)</code>
<div class="block">Commit a list of pending uploads.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#deleteTaskAttemptPathQuietly-org.apache.hadoop.mapreduce.TaskAttemptContext-">deleteTaskAttemptPathQuietly</a></span>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>
<div class="block">Delete the task attempt path without raising any errors.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected abstract org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getBaseTaskAttemptPath-org.apache.hadoop.mapreduce.TaskAttemptContext-">getBaseTaskAttemptPath</a></span>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>
<div class="block">Compute the base path where the output of a task attempt is written.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/CommitOperations.html" title="class in org.apache.hadoop.fs.s3a.commit">CommitOperations</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getCommitOperations--">getCommitOperations</a></span>()</code>
<div class="block">Get the commit actions instance.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>org.apache.hadoop.conf.Configuration</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getConf--">getConf</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getDestFS--">getDestFS</a></span>()</code>
<div class="block">Get the destination FS, creating it on demand if needed.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getDestinationFS-org.apache.hadoop.fs.Path-org.apache.hadoop.conf.Configuration-">getDestinationFS</a></span>(org.apache.hadoop.fs.Path&nbsp;out,
                org.apache.hadoop.conf.Configuration&nbsp;config)</code>
<div class="block">Get the destination filesystem from the output path and the configuration.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/fs/s3a/S3AFileSystem.html" title="class in org.apache.hadoop.fs.s3a">S3AFileSystem</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getDestS3AFS--">getDestS3AFS</a></span>()</code>
<div class="block">Get the destination as an S3A Filesystem; casting it.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected abstract org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getJobAttemptPath-int-">getJobAttemptPath</a></span>(int&nbsp;appAttemptId)</code>
<div class="block">Compute the path where the output of a given job attempt will be placed.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getJobAttemptPath-org.apache.hadoop.mapreduce.JobContext-">getJobAttemptPath</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context)</code>
<div class="block">Compute the path where the output of a given job attempt will be placed.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>org.apache.hadoop.mapreduce.JobContext</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getJobContext--">getJobContext</a></span>()</code>
<div class="block">Get the job/task context this committer was instantiated with.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getName--">getName</a></span>()</code>
<div class="block">Get the name of this committer.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getOutputPath--">getOutputPath</a></span>()</code>
<div class="block">Final path of output, in the destination FS.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getRole--">getRole</a></span>()</code>
<div class="block">Used in logging and reporting to help disentangle messages.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getTaskAttemptFilesystem-org.apache.hadoop.mapreduce.TaskAttemptContext-">getTaskAttemptFilesystem</a></span>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>
<div class="block">Get the task attempt path filesystem.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getTaskAttemptPath-org.apache.hadoop.mapreduce.TaskAttemptContext-">getTaskAttemptPath</a></span>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>
<div class="block">Compute the path where the output of a task attempt is stored until
 that task is committed.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>abstract org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getTempTaskAttemptPath-org.apache.hadoop.mapreduce.TaskAttemptContext-">getTempTaskAttemptPath</a></span>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>
<div class="block">Get a temporary directory for data.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getWorkPath--">getWorkPath</a></span>()</code>
<div class="block">This is the critical method for <code>FileOutputFormat</code>; it declares
 the path for work.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#initOutput-org.apache.hadoop.fs.Path-">initOutput</a></span>(org.apache.hadoop.fs.Path&nbsp;out)</code>
<div class="block">Init the output filesystem and path.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#jobCompleted-boolean-">jobCompleted</a></span>(boolean&nbsp;success)</code>
<div class="block">Job completion outcome; this may be subclassed in tests.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#listPendingUploadsToCommit-org.apache.hadoop.mapreduce.JobContext-">listPendingUploadsToCommit</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context)</code>
<div class="block">Get the list of pending uploads for this job attempt.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#loadPendingsetFiles-org.apache.hadoop.mapreduce.JobContext-boolean-org.apache.hadoop.fs.FileSystem-java.lang.Iterable-">loadPendingsetFiles</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                   boolean&nbsp;suppressExceptions,
                   org.apache.hadoop.fs.FileSystem&nbsp;fs,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends org.apache.hadoop.fs.FileStatus&gt;&nbsp;pendingCommitFiles)</code>
<div class="block">Try to read every pendingset file and build a list of them/
 In the case of a failure to read the file, exceptions are held until all
 reads have been attempted.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#maybeCreateSuccessMarker-org.apache.hadoop.mapreduce.JobContext-java.util.List-">maybeCreateSuccessMarker</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                        <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;filenames)</code>
<div class="block">if the job requires a success marker on a successful job,
 create the file <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/CommitConstants.html#Z:Z_SUCCESS"><code>CommitConstants._SUCCESS</code></a>.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#maybeCreateSuccessMarkerFromCommits-org.apache.hadoop.mapreduce.JobContext-java.util.List-">maybeCreateSuccessMarkerFromCommits</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)</code>
<div class="block">if the job requires a success marker on a successful job,
 create the file <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/CommitConstants.html#Z:Z_SUCCESS"><code>CommitConstants._SUCCESS</code></a>.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#maybeIgnore-boolean-java.lang.String-org.apache.hadoop.fs.s3a.Invoker.VoidOperation-">maybeIgnore</a></span>(boolean&nbsp;suppress,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;action,
           <a href="../../../../../../org/apache/hadoop/fs/s3a/Invoker.VoidOperation.html" title="interface in org.apache.hadoop.fs.s3a">Invoker.VoidOperation</a>&nbsp;operation)</code>
<div class="block">Execute an operation; maybe suppress any raised IOException.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#maybeIgnore-boolean-java.lang.String-java.io.IOException-">maybeIgnore</a></span>(boolean&nbsp;suppress,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;action,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>&nbsp;ex)</code>
<div class="block">Execute an operation; maybe suppress any raised IOException.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#preCommitJob-org.apache.hadoop.mapreduce.JobContext-java.util.List-">preCommitJob</a></span>(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)</code>
<div class="block">Subclass-specific pre commit actions.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#recoverTask-org.apache.hadoop.mapreduce.TaskAttemptContext-">recoverTask</a></span>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;taskContext)</code>
<div class="block">Task recovery considered unsupported: Warn and fail.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#requiresDelayedCommitOutputInFileSystem--">requiresDelayedCommitOutputInFileSystem</a></span>()</code>
<div class="block">Flag to indicate whether or not the destination filesystem needs
 to be configured to support magic paths where the output isn't immediately
 visible.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#setConf-org.apache.hadoop.conf.Configuration-">setConf</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#setDestFS-org.apache.hadoop.fs.FileSystem-">setDestFS</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;destFS)</code>
<div class="block">Set the destination FS: the FS of the final output.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#setOutputPath-org.apache.hadoop.fs.Path-">setOutputPath</a></span>(org.apache.hadoop.fs.Path&nbsp;outputPath)</code>
<div class="block">Set the output path.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#setupTask-org.apache.hadoop.mapreduce.TaskAttemptContext-">setupTask</a></span>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>
<div class="block">Base job setup deletes the success marker.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#setWorkPath-org.apache.hadoop.fs.Path-">setWorkPath</a></span>(org.apache.hadoop.fs.Path&nbsp;workPath)</code>
<div class="block">Set the work path for this committer.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.mapreduce.lib.output.PathOutputCommitter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.mapreduce.lib.output.PathOutputCommitter</h3>
<code>hasOutputPath</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.mapreduce.OutputCommitter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.mapreduce.OutputCommitter</h3>
<code>abortTask, commitTask, isCommitJobRepeatable, isRecoverySupported, isRecoverySupported, needsTaskCommit, setupJob</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractS3ACommitter-org.apache.hadoop.fs.Path-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractS3ACommitter</h4>
<pre>protected&nbsp;AbstractS3ACommitter(org.apache.hadoop.fs.Path&nbsp;outputPath,
                               org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)
                        throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a committer.
 This constructor binds the destination directory and configuration, but
 does not update the work path: That must be calculated by the
 implementation;
 It is omitted here to avoid subclass methods being called too early.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>outputPath</code> - the job's output path: MUST NOT be null.</dd>
<dd><code>context</code> - the task's context</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - on a failure</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initOutput-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initOutput</h4>
<pre>protected&nbsp;void&nbsp;initOutput(org.apache.hadoop.fs.Path&nbsp;out)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Init the output filesystem and path.
 TESTING ONLY; allows mock FS to cheat.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - output path</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - failure to create the FS.</dd>
</dl>
</li>
</ul>
<a name="getJobContext--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobContext</h4>
<pre>public final&nbsp;org.apache.hadoop.mapreduce.JobContext&nbsp;getJobContext()</pre>
<div class="block">Get the job/task context this committer was instantiated with.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the context.</dd>
</dl>
</li>
</ul>
<a name="getOutputPath--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputPath</h4>
<pre>public final&nbsp;org.apache.hadoop.fs.Path&nbsp;getOutputPath()</pre>
<div class="block">Final path of output, in the destination FS.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getOutputPath</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.lib.output.PathOutputCommitter</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path</dd>
</dl>
</li>
</ul>
<a name="setOutputPath-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOutputPath</h4>
<pre>protected final&nbsp;void&nbsp;setOutputPath(org.apache.hadoop.fs.Path&nbsp;outputPath)</pre>
<div class="block">Set the output path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>outputPath</code> - new value</dd>
</dl>
</li>
</ul>
<a name="getWorkPath--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkPath</h4>
<pre>public&nbsp;org.apache.hadoop.fs.Path&nbsp;getWorkPath()</pre>
<div class="block">This is the critical method for <code>FileOutputFormat</code>; it declares
 the path for work.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getWorkPath</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.lib.output.PathOutputCommitter</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the working path.</dd>
</dl>
</li>
</ul>
<a name="setWorkPath-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWorkPath</h4>
<pre>protected&nbsp;void&nbsp;setWorkPath(org.apache.hadoop.fs.Path&nbsp;workPath)</pre>
<div class="block">Set the work path for this committer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workPath</code> - the work path to use.</dd>
</dl>
</li>
</ul>
<a name="getConf--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConf</h4>
<pre>public&nbsp;org.apache.hadoop.conf.Configuration&nbsp;getConf()</pre>
</li>
</ul>
<a name="setConf-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConf</h4>
<pre>protected&nbsp;void&nbsp;setConf(org.apache.hadoop.conf.Configuration&nbsp;conf)</pre>
</li>
</ul>
<a name="getDestFS--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDestFS</h4>
<pre>public&nbsp;org.apache.hadoop.fs.FileSystem&nbsp;getDestFS()
                                          throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the destination FS, creating it on demand if needed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the filesystem; requires the output path to be set up</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the FS cannot be instantiated.</dd>
</dl>
</li>
</ul>
<a name="getDestS3AFS--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDestS3AFS</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/fs/s3a/S3AFileSystem.html" title="class in org.apache.hadoop.fs.s3a">S3AFileSystem</a>&nbsp;getDestS3AFS()
                           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the destination as an S3A Filesystem; casting it.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the dest S3A FS.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the FS cannot be instantiated.</dd>
</dl>
</li>
</ul>
<a name="setDestFS-org.apache.hadoop.fs.FileSystem-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDestFS</h4>
<pre>protected&nbsp;void&nbsp;setDestFS(org.apache.hadoop.fs.FileSystem&nbsp;destFS)</pre>
<div class="block">Set the destination FS: the FS of the final output.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destFS</code> - destination FS.</dd>
</dl>
</li>
</ul>
<a name="getJobAttemptPath-org.apache.hadoop.mapreduce.JobContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobAttemptPath</h4>
<pre>public&nbsp;org.apache.hadoop.fs.Path&nbsp;getJobAttemptPath(org.apache.hadoop.mapreduce.JobContext&nbsp;context)</pre>
<div class="block">Compute the path where the output of a given job attempt will be placed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the context of the job.  This is used to get the
 application attempt ID.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path to store job attempt data.</dd>
</dl>
</li>
</ul>
<a name="getJobAttemptPath-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobAttemptPath</h4>
<pre>protected abstract&nbsp;org.apache.hadoop.fs.Path&nbsp;getJobAttemptPath(int&nbsp;appAttemptId)</pre>
<div class="block">Compute the path where the output of a given job attempt will be placed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>appAttemptId</code> - the ID of the application attempt for this job.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path to store job attempt data.</dd>
</dl>
</li>
</ul>
<a name="getTaskAttemptPath-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskAttemptPath</h4>
<pre>public&nbsp;org.apache.hadoop.fs.Path&nbsp;getTaskAttemptPath(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</pre>
<div class="block">Compute the path where the output of a task attempt is stored until
 that task is committed. This may be the normal Task attempt path
 or it may be a subdirectory.
 The default implementation returns the value of
 <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#getBaseTaskAttemptPath-org.apache.hadoop.mapreduce.TaskAttemptContext-"><code>getBaseTaskAttemptPath(TaskAttemptContext)</code></a>;
 subclasses may return different values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the context of the task attempt.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path where a task attempt should be stored.</dd>
</dl>
</li>
</ul>
<a name="getBaseTaskAttemptPath-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseTaskAttemptPath</h4>
<pre>protected abstract&nbsp;org.apache.hadoop.fs.Path&nbsp;getBaseTaskAttemptPath(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</pre>
<div class="block">Compute the base path where the output of a task attempt is written.
 This is the path which will be deleted when a task is cleaned up and
 aborted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the context of the task attempt.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path where a task attempt should be stored.</dd>
</dl>
</li>
</ul>
<a name="getTempTaskAttemptPath-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTempTaskAttemptPath</h4>
<pre>public abstract&nbsp;org.apache.hadoop.fs.Path&nbsp;getTempTaskAttemptPath(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</pre>
<div class="block">Get a temporary directory for data. When a task is aborted/cleaned
 up, the contents of this directory are all deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - task context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a path for temporary data.</dd>
</dl>
</li>
</ul>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getName()</pre>
<div class="block">Get the name of this committer.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the committer name.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.lib.output.PathOutputCommitter</code></dd>
</dl>
</li>
</ul>
<a name="getDestinationFS-org.apache.hadoop.fs.Path-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDestinationFS</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.FileSystem&nbsp;getDestinationFS(org.apache.hadoop.fs.Path&nbsp;out,
                                                           org.apache.hadoop.conf.Configuration&nbsp;config)
                                                    throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the destination filesystem from the output path and the configuration.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - output path</dd>
<dd><code>config</code> - job/task config</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated FS</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/PathCommitException.html" title="class in org.apache.hadoop.fs.s3a.commit">PathCommitException</a></code> - output path isn't to an S3A FS instance.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - failure to instantiate the FS.</dd>
</dl>
</li>
</ul>
<a name="requiresDelayedCommitOutputInFileSystem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiresDelayedCommitOutputInFileSystem</h4>
<pre>protected&nbsp;boolean&nbsp;requiresDelayedCommitOutputInFileSystem()</pre>
<div class="block">Flag to indicate whether or not the destination filesystem needs
 to be configured to support magic paths where the output isn't immediately
 visible. If the committer returns true, then committer setup will
 fail if the FS doesn't have the capability.
 Base implementation returns false.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>what the requirements of the committer are of the filesystem.</dd>
</dl>
</li>
</ul>
<a name="recoverTask-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverTask</h4>
<pre>public&nbsp;void&nbsp;recoverTask(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;taskContext)
                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Task recovery considered unsupported: Warn and fail.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>recoverTask</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.OutputCommitter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>taskContext</code> - Context of the task whose output is being recovered</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - always.</dd>
</dl>
</li>
</ul>
<a name="maybeCreateSuccessMarkerFromCommits-org.apache.hadoop.mapreduce.JobContext-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeCreateSuccessMarkerFromCommits</h4>
<pre>protected&nbsp;void&nbsp;maybeCreateSuccessMarkerFromCommits(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)
                                            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">if the job requires a success marker on a successful job,
 create the file <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/CommitConstants.html#Z:Z_SUCCESS"><code>CommitConstants._SUCCESS</code></a>.

 While the classic committers create a 0-byte file, the S3Guard committers
 PUT up a the contents of a <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SuccessData.html" title="class in org.apache.hadoop.fs.s3a.commit.files"><code>SuccessData</code></a> file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>pending</code> - the pending commits</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - IO failure</dd>
</dl>
</li>
</ul>
<a name="maybeCreateSuccessMarker-org.apache.hadoop.mapreduce.JobContext-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeCreateSuccessMarker</h4>
<pre>protected&nbsp;void&nbsp;maybeCreateSuccessMarker(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                        <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;filenames)
                                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">if the job requires a success marker on a successful job,
 create the file <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/CommitConstants.html#Z:Z_SUCCESS"><code>CommitConstants._SUCCESS</code></a>.

 While the classic committers create a 0-byte file, the S3Guard committers
 PUT up a the contents of a <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SuccessData.html" title="class in org.apache.hadoop.fs.s3a.commit.files"><code>SuccessData</code></a> file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>filenames</code> - list of filenames.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - IO failure</dd>
</dl>
</li>
</ul>
<a name="setupTask-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupTask</h4>
<pre>public&nbsp;void&nbsp;setupTask(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)
               throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Base job setup deletes the success marker.
 TODO: Do we need this?</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>setupTask</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.OutputCommitter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - context</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - IO failure</dd>
</dl>
</li>
</ul>
<a name="getTaskAttemptFilesystem-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskAttemptFilesystem</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.FileSystem&nbsp;getTaskAttemptFilesystem(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)
                                                            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the task attempt path filesystem. This may not be the same as the
 final destination FS, and so may not be an S3A FS.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - task attempt</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the filesystem</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - failure to instantiate</dd>
</dl>
</li>
</ul>
<a name="commitPendingUploads-org.apache.hadoop.mapreduce.JobContext-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitPendingUploads</h4>
<pre>protected&nbsp;void&nbsp;commitPendingUploads(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)
                             throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Commit a list of pending uploads.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>pending</code> - list of pending uploads</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - on any failure</dd>
</dl>
</li>
</ul>
<a name="loadPendingsetFiles-org.apache.hadoop.mapreduce.JobContext-boolean-org.apache.hadoop.fs.FileSystem-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPendingsetFiles</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;loadPendingsetFiles(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                                        boolean&nbsp;suppressExceptions,
                                                        org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends org.apache.hadoop.fs.FileStatus&gt;&nbsp;pendingCommitFiles)
                                                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Try to read every pendingset file and build a list of them/
 In the case of a failure to read the file, exceptions are held until all
 reads have been attempted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>suppressExceptions</code> - whether to suppress exceptions.</dd>
<dd><code>fs</code> - job attempt fs</dd>
<dd><code>pendingCommitFiles</code> - list of files found in the listing scan</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of commits</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - on a failure when suppressExceptions is false.</dd>
</dl>
</li>
</ul>
<a name="commitJobInternal-org.apache.hadoop.mapreduce.JobContext-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitJobInternal</h4>
<pre>protected&nbsp;void&nbsp;commitJobInternal(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)
                          throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Internal Job commit operation: where the S3 requests are made
 (potentially in parallel).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>pending</code> - pending request</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - any failure</dd>
</dl>
</li>
</ul>
<a name="abortJob-org.apache.hadoop.mapreduce.JobContext-org.apache.hadoop.mapreduce.JobStatus.State-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortJob</h4>
<pre>public&nbsp;void&nbsp;abortJob(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                     org.apache.hadoop.mapreduce.JobStatus.State&nbsp;state)
              throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>abortJob</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.OutputCommitter</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="abortJobInternal-org.apache.hadoop.mapreduce.JobContext-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortJobInternal</h4>
<pre>protected&nbsp;void&nbsp;abortJobInternal(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                boolean&nbsp;suppressExceptions)
                         throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">The internal job abort operation; can be overridden in tests.
 This must clean up operations; it is called when a commit fails, as
 well as in an <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#abortJob-org.apache.hadoop.mapreduce.JobContext-org.apache.hadoop.mapreduce.JobStatus.State-"><code>abortJob(JobContext, JobStatus.State)</code></a> call.
 The base implementation calls <a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html#cleanup-org.apache.hadoop.mapreduce.JobContext-boolean-"><code>cleanup(JobContext, boolean)</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>suppressExceptions</code> - should exceptions be suppressed?</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - any IO problem raised when suppressExceptions is false.</dd>
</dl>
</li>
</ul>
<a name="abortPendingUploadsInCleanup-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortPendingUploadsInCleanup</h4>
<pre>protected&nbsp;void&nbsp;abortPendingUploadsInCleanup(boolean&nbsp;suppressExceptions)
                                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Abort all pending uploads to the destination directory during
 job cleanup operations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>suppressExceptions</code> - should exceptions be suppressed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - IO problem</dd>
</dl>
</li>
</ul>
<a name="preCommitJob-org.apache.hadoop.mapreduce.JobContext-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preCommitJob</h4>
<pre>protected&nbsp;void&nbsp;preCommitJob(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                            <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending)
                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Subclass-specific pre commit actions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>pending</code> - the pending operations</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - any failure</dd>
</dl>
</li>
</ul>
<a name="commitJob-org.apache.hadoop.mapreduce.JobContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitJob</h4>
<pre>public&nbsp;void&nbsp;commitJob(org.apache.hadoop.mapreduce.JobContext&nbsp;context)
               throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Commit work.
 This consists of two stages: precommit and commit.
 <p>
 Precommit: identify pending uploads, then allow subclasses
 to validate the state of the destination and the pending uploads.
 Any failure here triggers an abort of all pending uploads.
 <p>
 Commit internal: do the final commit sequence.
 <p>
 The final commit action is to build the <code>__SUCCESS</code> file entry.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>commitJob</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.OutputCommitter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - any failure</dd>
</dl>
</li>
</ul>
<a name="jobCompleted-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jobCompleted</h4>
<pre>protected&nbsp;void&nbsp;jobCompleted(boolean&nbsp;success)</pre>
<div class="block">Job completion outcome; this may be subclassed in tests.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>success</code> - did the job succeed.</dd>
</dl>
</li>
</ul>
<a name="cleanupStagingDirs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupStagingDirs</h4>
<pre>public abstract&nbsp;void&nbsp;cleanupStagingDirs()</pre>
<div class="block">Clean up any staging directories.
 IOEs must be caught and swallowed.</div>
</li>
</ul>
<a name="listPendingUploadsToCommit-org.apache.hadoop.mapreduce.JobContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listPendingUploadsToCommit</h4>
<pre>protected abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;listPendingUploadsToCommit(org.apache.hadoop.mapreduce.JobContext&nbsp;context)
                                                                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the list of pending uploads for this job attempt.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of pending uploads.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Any IO failure</dd>
</dl>
</li>
</ul>
<a name="cleanup-org.apache.hadoop.mapreduce.JobContext-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>protected&nbsp;void&nbsp;cleanup(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                       boolean&nbsp;suppressExceptions)
                throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Cleanup the job context, including aborting anything pending.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>suppressExceptions</code> - should exceptions be suppressed?</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - any failure if exceptions were not suppressed.</dd>
</dl>
</li>
</ul>
<a name="cleanupJob-org.apache.hadoop.mapreduce.JobContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupJob</h4>
<pre>public&nbsp;void&nbsp;cleanupJob(org.apache.hadoop.mapreduce.JobContext&nbsp;context)
                throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>cleanupJob</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.OutputCommitter</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="maybeIgnore-boolean-java.lang.String-org.apache.hadoop.fs.s3a.Invoker.VoidOperation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeIgnore</h4>
<pre>protected&nbsp;void&nbsp;maybeIgnore(boolean&nbsp;suppress,
                           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;action,
                           <a href="../../../../../../org/apache/hadoop/fs/s3a/Invoker.VoidOperation.html" title="interface in org.apache.hadoop.fs.s3a">Invoker.VoidOperation</a>&nbsp;operation)
                    throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Execute an operation; maybe suppress any raised IOException.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>suppress</code> - should raised IOEs be suppressed?</dd>
<dd><code>action</code> - action (for logging when the IOE is supressed.</dd>
<dd><code>operation</code> - operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if operation raised an IOE and suppress == false</dd>
</dl>
</li>
</ul>
<a name="maybeIgnore-boolean-java.lang.String-java.io.IOException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeIgnore</h4>
<pre>protected&nbsp;void&nbsp;maybeIgnore(boolean&nbsp;suppress,
                           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;action,
                           <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>&nbsp;ex)
                    throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Execute an operation; maybe suppress any raised IOException.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>suppress</code> - should raised IOEs be suppressed?</dd>
<dd><code>action</code> - action (for logging when the IOE is suppressed.</dd>
<dd><code>ex</code> - exception</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if suppress == false</dd>
</dl>
</li>
</ul>
<a name="getCommitOperations--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitOperations</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/CommitOperations.html" title="class in org.apache.hadoop.fs.s3a.commit">CommitOperations</a>&nbsp;getCommitOperations()</pre>
<div class="block">Get the commit actions instance.
 Subclasses may provide a mock version of this.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the commit actions instance to use for operations.</dd>
</dl>
</li>
</ul>
<a name="getRole--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRole</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRole()</pre>
<div class="block">Used in logging and reporting to help disentangle messages.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the committer's role.</dd>
</dl>
</li>
</ul>
<a name="buildThreadPool-org.apache.hadoop.mapreduce.JobContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildThreadPool</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;buildThreadPool(org.apache.hadoop.mapreduce.JobContext&nbsp;context)</pre>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutorService</code></a> for parallel tasks. The number of
 threads in the thread-pool is set by s3.multipart.committer.num-threads.
 If num-threads is 0, this will return null;</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the JobContext for this commit</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutorService</code></a> or null for the number of threads</dd>
</dl>
</li>
</ul>
<a name="deleteTaskAttemptPathQuietly-org.apache.hadoop.mapreduce.TaskAttemptContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTaskAttemptPathQuietly</h4>
<pre>protected&nbsp;void&nbsp;deleteTaskAttemptPathQuietly(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</pre>
<div class="block">Delete the task attempt path without raising any errors.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - task context</dd>
</dl>
</li>
</ul>
<a name="abortPendingUploads-org.apache.hadoop.mapreduce.JobContext-java.util.List-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>abortPendingUploads</h4>
<pre>protected&nbsp;void&nbsp;abortPendingUploads(org.apache.hadoop.mapreduce.JobContext&nbsp;context,
                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.html" title="class in org.apache.hadoop.fs.s3a.commit.files">SinglePendingCommit</a>&gt;&nbsp;pending,
                                   boolean&nbsp;suppressExceptions)
                            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Abort all pending uploads in the list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - job context</dd>
<dd><code>pending</code> - pending uploads</dd>
<dd><code>suppressExceptions</code> - should exceptions be suppressed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - any exception raised</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractS3ACommitter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitterFactory.html" title="class in org.apache.hadoop.fs.s3a.commit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/fs/s3a/commit/AbstractS3ACommitter.html" target="_top">Frames</a></li>
<li><a href="AbstractS3ACommitter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2008&#x2013;2024 <a href="http://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
